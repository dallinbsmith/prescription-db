import{a as S}from"./chunk-5NR4SW4X.js";import{a as O,b as v,c as E,d as L,e as k,f as z,k as D}from"./chunk-3PASNWI6.js";import{$ as c,E as b,G as s,J as C,O as n,P as t,S as h,T as _,U as i,V as M,W as w,Z as g,_ as p,ba as y,o as m,p as f,ra as x,z as a,za as P}from"./chunk-XZK7E5S4.js";function W(d,l){if(d&1&&(n(0,"div",4),i(1),t()),d&2){let o=_();a(),M(o.error)}}var N=class d{authService=m(S);router=m(P);email="";password="";error="";loading=!1;onSubmit=()=>{let l=this.email.trim(),o=this.password.trim();if(!l||!o){this.error="Please enter email and password";return}this.loading=!0,this.error="",this.authService.login(l,o).subscribe({next:e=>{this.authService.handleLoginSuccess(e),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/drugs"])})},error:e=>{this.loading=!1,this.error=e.error?.error||"Login failed"}})};static \u0275fac=function(o){return new(o||d)};static \u0275cmp=f({type:d,selectors:[["app-login"]],standalone:!0,features:[y],decls:20,vars:7,consts:[[1,"login-container"],[1,"login-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"error-message"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","Enter your password",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[1,"help-text"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Rx Database"),t(),n(4,"p",2),i(5,"Prescription Drug Reference Database"),t(),n(6,"form",3),h("ngSubmit",function(){return e.onSubmit()}),b(7,W,2,1,"div",4),n(8,"div",5)(9,"label",6),i(10,"Email"),t(),n(11,"input",7),c("ngModelChange",function(r){return p(e.email,r)||(e.email=r),r}),t()(),n(12,"div",5)(13,"label",8),i(14,"Password"),t(),n(15,"input",9),c("ngModelChange",function(r){return p(e.password,r)||(e.password=r),r}),t()(),n(16,"button",10),i(17),t()(),n(18,"p",11),i(19," Contact your administrator if you need an account. "),t()()()),o&2&&(a(7),C(e.error?7:-1),a(4),g("ngModel",e.email),s("disabled",e.loading),a(4),g("ngModel",e.password),s("disabled",e.loading),a(),s("disabled",e.loading),a(),w(" ",e.loading?"Signing in...":"Sign In"," "))},dependencies:[x,D,z,O,v,E,k,L],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e);padding:1rem}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2.5rem;width:100%;max-width:400px;box-shadow:0 10px 40px #0000004d}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;color:#1a1a2e;text-align:center}.login-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;text-align:center;margin:0 0 2rem;font-size:.9rem}.error-message[_ngcontent-%COMP%]{background:#fee2e2;border:1px solid #fecaca;color:#dc2626;padding:.75rem;border-radius:6px;margin-bottom:1rem;font-size:.875rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:1rem;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e51a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f3f4f6;cursor:not-allowed}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.875rem;background:#4f46e5;color:#fff;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover:not(:disabled){background:#4338ca}button[type=submit][_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.help-text[_ngcontent-%COMP%]{text-align:center;color:#6b7280;font-size:.875rem;margin:1.5rem 0 0}@media (max-width: 480px){.login-card[_ngcontent-%COMP%]{padding:1.5rem}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};export{N as LoginComponent};
