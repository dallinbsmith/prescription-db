import{a as j}from"./chunk-OG7QCR5Q.js";import{a as A}from"./chunk-5NR4SW4X.js";import{a as I,b as D,e as N,g as W,h as B,i as z,k as R}from"./chunk-3PASNWI6.js";import{$ as g,Aa as k,C as f,E as b,G as _,J as O,M as x,N as v,O as e,P as t,S as d,T as C,U as n,V as c,W as M,Z as p,_ as u,ba as y,ca as S,da as E,ea as w,na as F,o as h,p as P,qa as L,ra as T,z as r}from"./chunk-XZK7E5S4.js";var U=(i,s)=>s.id,V=i=>["/compounding/formulas",i];function Y(i,s){i&1&&(e(0,"div",21),n(1,"Loading..."),t())}function q(i,s){if(i&1&&(e(0,"p",32),n(1),t()),i&2){let a=C().$implicit;r(),M("BUD: ",a.beyond_use_date,"")}}function G(i,s){if(i&1&&(e(0,"div",23)(1,"div",25)(2,"h3"),n(3),t(),e(4,"span",26),n(5),t()(),e(6,"div",27)(7,"span",28),n(8),t(),e(9,"span",29),n(10,"|"),t(),e(11,"span",30),n(12),t(),e(13,"span",29),n(14,"|"),t(),e(15,"span",31),n(16),t()(),b(17,q,2,1,"p",32),t()),i&2){let a=s.$implicit,o=C(2);_("routerLink",S(8,V,a.id)),r(3),c(a.name),r(),_("ngClass",o.getStatusClass(a.status)),r(),M(" ",a.status," "),r(3),c(a.formula_type),r(4),c(a.dosage_form||"N/A"),r(4),c(a.species),r(),O(a.beyond_use_date?17:-1)}}function J(i,s){i&1&&(e(0,"div",24)(1,"p"),n(2,"No formulas found."),t()())}function K(i,s){if(i&1&&(e(0,"div",22),x(1,G,18,10,"div",23,U,!1,J,3,0,"div",24),t()),i&2){let a=C();r(),v(a.formulas())}}var H=class i{compoundingService=h(j);authService=h(A);formulas=f([]);total=f(0);loading=f(!0);searchTerm="";filters={formula_type:"",status:"",species:""};ngOnInit(){this.search()}search=()=>{this.loading.set(!0),this.compoundingService.searchFormulas({search:this.searchTerm||void 0,formula_type:this.filters.formula_type||void 0,status:this.filters.status||void 0,species:this.filters.species||void 0}).subscribe({next:s=>{this.formulas.set(s.items),this.total.set(s.total),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})};getStatusClass=s=>`status-${s.toLowerCase()}`;static \u0275fac=function(a){return new(a||i)};static \u0275cmp=P({type:i,selectors:[["app-formula-list"]],standalone:!0,features:[y],decls:48,vars:9,consts:[[1,"formula-list-page"],[1,"page-header"],[1,"sub-nav"],["routerLink","/compounding/formulas",1,"active"],["routerLink","/compounding/ingredients"],["routerLink","/compounding/regulations"],[1,"search-section"],[1,"search-bar"],["type","text","placeholder","Search formulas...",3,"ngModelChange","keyup.enter","ngModel"],[3,"click","disabled"],[1,"filters"],[3,"ngModelChange","change","ngModel"],["value",""],["value","503A"],["value","503B"],["value","DRAFT"],["value","APPROVED"],["value","DISCONTINUED"],["value","HUMAN"],["value","ANIMAL"],["value","BOTH"],[1,"loading"],[1,"formulas-grid"],[1,"formula-card",3,"routerLink"],[1,"empty-state"],[1,"formula-header"],[1,"badge",3,"ngClass"],[1,"formula-meta"],[1,"type"],[1,"divider"],[1,"form"],[1,"species"],[1,"bud"]],template:function(a,o){a&1&&(e(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),n(4,"Compounding Formulas"),t(),e(5,"p"),n(6),E(7,"number"),t()(),e(8,"nav",2)(9,"a",3),n(10,"Formulas"),t(),e(11,"a",4),n(12,"Ingredients"),t(),e(13,"a",5),n(14,"Regulations"),t()()(),e(15,"div",6)(16,"div",7)(17,"input",8),g("ngModelChange",function(l){return u(o.searchTerm,l)||(o.searchTerm=l),l}),d("keyup.enter",function(){return o.search()}),t(),e(18,"button",9),d("click",function(){return o.search()}),n(19,"Search"),t()(),e(20,"div",10)(21,"select",11),g("ngModelChange",function(l){return u(o.filters.formula_type,l)||(o.filters.formula_type=l),l}),d("change",function(){return o.search()}),e(22,"option",12),n(23,"All Types"),t(),e(24,"option",13),n(25,"503A"),t(),e(26,"option",14),n(27,"503B"),t()(),e(28,"select",11),g("ngModelChange",function(l){return u(o.filters.status,l)||(o.filters.status=l),l}),d("change",function(){return o.search()}),e(29,"option",12),n(30,"All Statuses"),t(),e(31,"option",15),n(32,"Draft"),t(),e(33,"option",16),n(34,"Approved"),t(),e(35,"option",17),n(36,"Discontinued"),t()(),e(37,"select",11),g("ngModelChange",function(l){return u(o.filters.species,l)||(o.filters.species=l),l}),d("change",function(){return o.search()}),e(38,"option",12),n(39,"All Species"),t(),e(40,"option",18),n(41,"Human"),t(),e(42,"option",19),n(43,"Animal"),t(),e(44,"option",20),n(45,"Both"),t()()()(),b(46,Y,2,0,"div",21)(47,K,4,1,"div",22),t()),a&2&&(r(6),M("",w(7,7,o.total())," formulas found"),r(11),p("ngModel",o.searchTerm),r(),_("disabled",o.loading()),r(3),p("ngModel",o.filters.formula_type),r(7),p("ngModel",o.filters.status),r(9),p("ngModel",o.filters.species),r(9),O(o.loading()?46:47))},dependencies:[T,F,L,R,B,z,I,W,D,N,k],styles:[".formula-list-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;color:#1a1a2e}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#6b7280}.sub-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem}.sub-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;color:#6b7280;text-decoration:none;border-radius:6px;font-size:.875rem}.sub-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f3f4f6}.sub-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.search-section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.search-bar[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:1rem}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:6px;font-size:1rem}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4f46e5}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#4f46e5;color:#fff;border:none;border-radius:6px;cursor:pointer}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#4338ca}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6}.filters[_ngcontent-%COMP%]{display:flex;gap:.75rem}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #d1d5db;border-radius:6px;background:#fff;font-size:.875rem;min-width:130px}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#6b7280}.formulas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1rem}.formula-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;cursor:pointer;transition:transform .15s,box-shadow .15s}.formula-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.formula-card[_ngcontent-%COMP%]   .formula-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.formula-card[_ngcontent-%COMP%]   .formula-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#1a1a2e}.formula-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.formula-card[_ngcontent-%COMP%]   .badge.status-draft[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.formula-card[_ngcontent-%COMP%]   .badge.status-approved[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.formula-card[_ngcontent-%COMP%]   .badge.status-discontinued[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.formula-card[_ngcontent-%COMP%]   .formula-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#6b7280;font-size:.875rem}.formula-card[_ngcontent-%COMP%]   .formula-meta[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{color:#d1d5db}.formula-card[_ngcontent-%COMP%]   .formula-meta[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#4f46e5;font-weight:500}.formula-card[_ngcontent-%COMP%]   .bud[_ngcontent-%COMP%]{margin:.75rem 0 0;font-size:.75rem;color:#6b7280}.empty-state[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:3rem;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.sub-nav[_ngcontent-%COMP%]{flex-wrap:wrap}.sub-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;text-align:center;min-width:80px}.search-section[_ngcontent-%COMP%]{padding:1rem}.search-bar[_ngcontent-%COMP%]{flex-direction:column}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]{flex-direction:column}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;min-width:auto}.formulas-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.formula-card[_ngcontent-%COMP%]{padding:1rem}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}}"]})};export{H as FormulaListComponent};
