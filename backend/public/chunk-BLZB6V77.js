import{a as E}from"./chunk-OG7QCR5Q.js";import{Aa as S,C as u,E as m,G as _,I as C,J as c,M as x,N as b,O as t,P as e,T as g,U as n,V as d,W as p,X as M,ba as O,ca as P,o as s,p as f,ra as v,xa as h,z as a}from"./chunk-XZK7E5S4.js";var F=(o,r)=>r.id,I=o=>["/drugs",o];function D(o,r){o&1&&(t(0,"div",0),n(1,"Loading..."),e())}function y(o,r){if(o&1&&(t(0,"div",12)(1,"dt"),n(2,"Based on Drug"),e(),t(3,"dd")(4,"a",16),n(5),e()()()),o&2){let i=g(2);a(4),_("routerLink",P(2,I,i.formula().drug_id)),a(),d(i.formula().drug_name)}}function k(o,r){if(o&1&&(t(0,"span",17),n(1),e()),o&2){let i=g().$implicit;a(),p("(",i.cas_number,")")}}function z(o,r){if(o&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),m(5,k,2,1,"span",17),e(),t(6,"td"),n(7),e(),t(8,"td"),n(9),e()()),o&2){let i=r.$implicit;a(2),d(i.order_index+1),a(2),p(" ",i.ingredient_name," "),a(),c(i.cas_number?5:-1),a(2),M("",i.quantity," ",i.unit,""),a(2),d(i.purpose||"-")}}function T(o,r){if(o&1&&(t(0,"table",13)(1,"thead")(2,"tr")(3,"th"),n(4,"#"),e(),t(5,"th"),n(6,"Ingredient"),e(),t(7,"th"),n(8,"Quantity"),e(),t(9,"th"),n(10,"Purpose"),e()()(),t(11,"tbody"),x(12,z,10,6,"tr",null,F),e()()),o&2){let i=g(2);a(12),b(i.formula().ingredients)}}function L(o,r){o&1&&(t(0,"p",14),n(1,"No ingredients defined"),e())}function N(o,r){if(o&1&&(t(0,"section",15)(1,"h2"),n(2,"Notes"),e(),t(3,"p"),n(4),e()()),o&2){let i=g(2);a(4),d(i.formula().notes)}}function R(o,r){if(o&1&&(t(0,"div",1)(1,"nav",3)(2,"a",4),n(3,"Formulas"),e(),t(4,"span"),n(5,"/"),e(),t(6,"span"),n(7),e()(),t(8,"div",5)(9,"h1"),n(10),e(),t(11,"div",6)(12,"span",7),n(13),e(),t(14,"span",8),n(15),e(),t(16,"span",9),n(17),e()()(),t(18,"div",10)(19,"section",11)(20,"h2"),n(21,"Formula Details"),e(),t(22,"dl")(23,"div",12)(24,"dt"),n(25,"Dosage Form"),e(),t(26,"dd"),n(27),e()(),t(28,"div",12)(29,"dt"),n(30,"Route"),e(),t(31,"dd"),n(32),e()(),t(33,"div",12)(34,"dt"),n(35,"Beyond Use Date"),e(),t(36,"dd"),n(37),e()(),m(38,y,6,4,"div",12),e()(),t(39,"section",11)(40,"h2"),n(41,"Ingredients"),e(),m(42,T,14,0,"table",13)(43,L,2,0,"p",14),e(),m(44,N,5,1,"section",15),e()()),o&2){let i,l=g();a(7),d(l.formula().name),a(3),d(l.formula().name),a(3),d(l.formula().formula_type),a(),C("status-"+l.formula().status.toLowerCase()),a(),d(l.formula().status),a(2),d(l.formula().species),a(10),d(l.formula().dosage_form||"-"),a(5),d(l.formula().route||"-"),a(5),d(l.formula().beyond_use_date||"-"),a(),c(l.formula().drug_name?38:-1),a(4),c((i=l.formula().ingredients)!=null&&i.length?42:43),a(2),c(l.formula().notes?44:-1)}}function $(o,r){o&1&&(t(0,"div",2),n(1,"Formula not found"),e())}var w=class o{route=s(h);compoundingService=s(E);formula=u(null);loading=u(!0);ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.loadFormula(r)}loadFormula=r=>{this.compoundingService.getFormula(r).subscribe({next:i=>{this.formula.set(i),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})};static \u0275fac=function(i){return new(i||o)};static \u0275cmp=f({type:o,selectors:[["app-formula-detail"]],standalone:!0,features:[O],decls:3,vars:1,consts:[[1,"loading"],[1,"formula-detail-page"],[1,"not-found"],[1,"breadcrumb"],["routerLink","/compounding/formulas"],[1,"formula-header"],[1,"badges"],[1,"badge","type"],[1,"badge"],[1,"badge","species"],[1,"content-grid"],[1,"info-card"],[1,"info-row"],[1,"ingredients-table"],[1,"no-data"],[1,"info-card","notes-card"],[3,"routerLink"],[1,"cas"]],template:function(i,l){i&1&&m(0,D,2,0,"div",0)(1,R,45,13,"div",1)(2,$,2,0,"div",2),i&2&&c(l.loading()?0:l.formula()?1:2)},dependencies:[v,S],styles:[".loading[_ngcontent-%COMP%], .not-found[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#6b7280}.formula-detail-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.breadcrumb[_ngcontent-%COMP%]{margin-bottom:1rem;color:#6b7280;font-size:.875rem}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 .5rem}.formula-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.formula-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.75rem;color:#1a1a2e}.formula-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;gap:.5rem}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:4px;font-size:.75rem;font-weight:600}.badge.type[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.badge.species[_ngcontent-%COMP%]{background:#f3e8ff;color:#7c3aed}.badge.status-draft[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.badge.status-approved[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.badge.status-discontinued[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.content-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 1px 3px #0000001a}.info-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;color:#1a1a2e}dl[_ngcontent-%COMP%]{margin:0}.info-row[_ngcontent-%COMP%]{display:flex;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-row[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{width:150px;color:#6b7280;font-size:.875rem}.info-row[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin:0;color:#1a1a2e;font-size:.875rem}.info-row[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none}.info-row[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ingredients-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.ingredients-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ingredients-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e5e7eb}.ingredients-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;font-weight:600;color:#374151;font-size:.875rem}.ingredients-table[_ngcontent-%COMP%]   .cas[_ngcontent-%COMP%]{color:#9ca3af;font-size:.75rem}.no-data[_ngcontent-%COMP%]{color:#9ca3af;font-size:.875rem;margin:0}.notes-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#374151;font-size:.875rem;margin:0;white-space:pre-wrap}@media (max-width: 768px){.formula-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.formula-header[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{flex-wrap:wrap}.info-card[_ngcontent-%COMP%]{padding:1rem}.info-row[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.info-row[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{width:auto;font-weight:500}.ingredients-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;-webkit-overflow-scrolling:touch}.ingredients-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ingredients-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem;white-space:nowrap}}"]})};export{w as FormulaDetailComponent};
